
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>neuraltalk2 results visualization</title>
    <script src="jquery-1.8.3.min.js"></script>
    <script src="d3.min.js" charset="utf-8"></script>
    <style>
    body {
      color: #333;
      margin: 0;
      padding: 0;
      font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif; 
      font-weight: 300;
    }
    #wrap {
      margin: 10px;
    }
    .result {
      width:300px;
      margin:10px;
      display: inline-block;
      vertical-align: top;
    }
    .result img {
      width: 100%;
    }
    </style>
    
    <script type="application/javascript">

    // Data Loading util
    var vars;
    function loadData() {
      var jsonpath = 'vis.json';
      var jsonmod = jsonpath + '?sigh=' + Math.floor(Math.random() * 100000); // ughly hack to prevent caching
      $.getJSON(jsonpath, function(x) {
        data = x // store in global
        render();
      });
    }

    // "int main" function here
    function start() {
      loadData();
    }

    function render() {
      $("#wrap").html(''); // reset
      for(var i=0;i<data.length;i++) {
        var div = d3.select("#wrap").append("div").classed('result', true);
        div.append('img').attr('src', 'imgs/img' + (i+1) + '.jpg');
        div.append('div').html(data[i].caption)
      }
    }

</script>
  </head>
  <body onload="start()">
    <div id="wrap">
    </div>
  </body>
</html>
